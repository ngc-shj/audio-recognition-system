models:
  asr:
    darwin:
      model_path: mlx-community/whisper-large-v3-turbo
      model_size: large-v3-turbo
    default:
      model_path: null
      model_size: large-v3-turbo
  translation:
    darwin:
      model_path: mlx-community/gpt-oss-20b-MXFP4-Q4
    default:
      model_path: openai/gpt-oss-20b
    trust_remote_code: false
    api:
      enabled: true
      base_url: http://192.168.11.1:1234/v1
      api_key: ''
      model: local-model
      timeout: 60
      max_retries: 3
    gguf:
      enabled: false
      model_path: unsloth/gpt-oss-20b-GGUF
      model_file: gpt-oss-20b-Q4_K_M.gguf
      n_ctx: 4096
      n_gpu_layers: -1
      n_threads: 8
    reload:
      interval_seconds: 7200
      interval_seconds_darwin: 7200
    error_handling:
      max_consecutive_errors: 1
      error_cooldown_seconds: 2
      retry_failed_translations: true
audio:
  format: int16
  sample_rate: 16000
  channels: 1
  chunk_size: 1024
  buffer_duration: 5.0
  voice_detection:
    silence_threshold: 0.005
    voice_activity_threshold: 0.005
    silence_duration: 1.0
    zero_crossing_rate_threshold: 0.05
  dynamic_buffer:
    min_duration: 2.0
    max_duration: 30.0
    short_pause: 0.3
    medium_pause: 0.8
    long_pause: 1.5
  input_device: null
language:
  source: en
  target: ja
translation:
  enabled: true
  batch_size: 5
  context:
    window_size: 8
    separator: '

      '
  generation:
    darwin:
      max_tokens: 4096
      temperature: 0.8
      top_p: 1.0
      top_k: 0
      repetition_penalty: 1.1
      repetition_context_size: 20
    default:
      max_new_tokens: 4096
      temperature: 0.8
      top_p: 1.0
      top_k: 0
      repetition_penalty: 1.1
      do_sample: true
output:
  directory: logs
  logging:
    recognized_audio: true
    translated_text: true
    bilingual_log: true
  filename_format:
    timestamp: '%Y%m%d_%H%M%S'
    recognized: recognized_audio_log_{lang}_{timestamp}.txt
    translated: translated_text_log_{source}-{target}_{timestamp}.txt
    bilingual: bilingual_translation_log_{source}-{target}_{timestamp}.txt
tts:
  enabled: true
  engine: edge-tts
  voice: ja-JP-NanamiNeural
  rate: +30%
  volume: +0%
  pitch: +0Hz
  output_device: MacBook Proのスピーカー
resources:
  threads:
    min: 2
    max: 8
debug:
  enabled: false
  save_audio_samples: false
  verbose_logging: false
  print_model_info: false
profiles:
  development:
    debug:
      enabled: true
      verbose_logging: true
    models:
      asr:
        darwin:
          model_size: base
      translation:
        darwin:
          model_path: mlx-community/Llama-3.2-3B-Instruct-4bit
    translation:
      batch_size: 2
  production:
    debug:
      enabled: false
    models:
      asr:
        darwin:
          model_size: large-v3-turbo
    output:
      logging:
        recognized_audio: true
        translated_text: true
        bilingual_log: true
  testing:
    debug:
      enabled: true
      save_audio_samples: true
    audio:
      buffer_duration: 2.0
    translation:
      batch_size: 1
